---
title: "Pilot Survey"
toc: true
toc-location: right
execute:
  echo: false
  warning: false
  message: false
params:
  number: 3
  weight: '4%'
---

```{r}
#| label: setup

source(here::here("_common.R"))

rubric <- read_csv(here::here('rubrics', '3-pilot-survey.csv'))
maxPoints <- rubric %>%
    filter(rating == "Excellent") %>%
    summarise(max = sum(maxPoints)) %>%
    pull(max)
```

```{r child = here::here("fragments", "project.qmd")}
```

As a team, create a **pilot survey** - an initial draft of your final survey for preliminary testing. Your fellow classmates will all take your survey and provide feedback. The course instructor will also review and grade your survey and will provide written feedback. Follow the instructions below to prepare your pilot survey.

## 1. Get Organized

Download and unzip [this template](../templates/pilot-survey.zip) for your pilot survey. The folder contains the following files:

- `pilot_survey.Rproj`: An R Project file for staying organized.
- `p1-intro.qmd`: The code for creating part 1 of your survey, which should include a welcome page, content form, and eligibility questions for screening our ineligible respondents.
- `p2-choice-questions.qmd`: The code for creating part 2 of your survey, which should include your education content and randomized conjoint choice questions.
- `p3-other.qmd`: The code for creating part 3 of your survey, which should include any other questions (e.g. demographics) you wish to ask your survey respondents.
- `make_choice_questions.R`: The code to generate the `choice_questions.csv` file.
- `choice_questions.csv`: The survey choice question design file.
- `images`: A folder of images you're using in your survey.

## 2. Write your survey content

The files included in the zip file are taken directly from the example [apples conjoint repo](https://github.com/jhelvy/formr4conjoint) on GitHub associated with the [blog post](https://www.jhelvy.com/posts/2021-09-18-choice-based-conjoint-surveys-in-r-with-formr/) on building conjoint surveys in R. **This is just placeholder content - you need to replace it with your survey content**.

Follow these guidelines in inserting your content:

- You may directly copy and paste any content you wish from your [Survey Plan](https://madd.seas.gwu.edu/2023-Fall/project/2-survey-plan.html) assignment.
- In your `p2-choice-questions.qmd` file, you should include at least one example choice question (e.g. the first choice question for the first respondent) using your choice question design file (the `choice_questions.csv` file).
- Your code should **not** reference any local files - all files should be hosted online somewhere (e.g. uploaded to a formr run, github.com, etc.), and your code should use the urls to those locations. This includes your `choice_questions.csv` file as well as any images used in your survey.

> Be sure to knit each file often - you should knit each part to html files so you can preview that everything is displaying as expected.

## 3. Upload your content to formr.org

Using your team google and formr accounts:

1. Create a Google Sheet for each of your survey .qmd files. You may directly copy and edit from the example survey parts [1](https://docs.google.com/spreadsheets/d/1tnt7IBSmOOe0wOZ8F6qN152yHYZMCBCo7_KQ3N1e-t8/edit#gid=1611481919), [2](https://docs.google.com/spreadsheets/d/1Ih3Pt6uz-gp5vc0SBxBzl4K0aZoRLwI6dtdtZiXSLz0/edit#gid=1611481919), and [3](https://docs.google.com/spreadsheets/d/1t6DYMZsf6ZX6r5GVTBemZZhX1RlFTV6weM8w0LzwMK4/edit#gid=1611481919).
2. Upload each sheet as a separate Survey in formr, then create a Run linking the surveys together. Be sure to carefully edit the Run settings such that respondents are appropriately screened out as desired.
3. When you are confident that the Run is ready, turn the "volume" settings to the third setting ("People who have the link can access").

# 4. Submit

Instructions for how to submit your assignment are at the [top of this page]().

# Grading Rubric

**`r maxPoints` Total Points**

```{r, echo=FALSE}
rubric %>%
  mutate(description = paste0("<b>", points, '</b><br>', description)) %>%
  select(-points) %>%
  spread(key = rating, value = description) %>%
  select(-category) %>%
  rename(Category = label) %>%
  arrange(order) %>%
  select(-order) %>%
  select(-maxPoints) %>%
  kable(format = 'html', escape = FALSE) %>%
  kable_styling(bootstrap_options = "striped")
```
